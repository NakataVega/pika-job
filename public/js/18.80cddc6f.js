(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"05c3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.user.id_aspirante?a("q-card",[a("q-card-section",[a("h6",[e._v("Edita tu información personal y de contacto, esto es importante para los reclutadores :)")]),a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit}},[a("div",{staticClass:"q-gutter-md row items-start"},[a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",label:"Nombre(s) *",hint:"Nombre o nombres","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su(s) nombre(s)"}]},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",label:"Apellido paterno *",hint:"Apellido paterno","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su apellido paterno"}]},model:{value:e.lastName1,callback:function(t){e.lastName1=t},expression:"lastName1"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",label:"Apellido materno",hint:"Apellido materno"},model:{value:e.lastName2,callback:function(t){e.lastName2=t},expression:"lastName2"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",label:"Contraseña",type:e.showPassword?"text":"password",hint:"Contraseña"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showPassword?"visibility":"visibility_off"},on:{click:function(t){e.showPassword=!e.showPassword}}})]},proxy:!0}],null,!1,4198369114),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",mask:"(###) ### - ####",label:"Teléfono / Celular",hint:"Teléfono / Celular"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{mask:"date",outlined:"",label:"Fecha de nacimiento","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su fecha de nacimiento"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.birth,callback:function(t){e.birth=t},expression:"birth"}})],1)],1)]},proxy:!0}],null,!1,486079420),model:{value:e.birth,callback:function(t){e.birth=t},expression:"birth"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",label:"Ciudad",hint:"Ciudad"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",label:"Estado",hint:"Estado"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",label:"Pais",hint:"Pais"},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}})],1),a("div",{staticClass:"q-gutter-md"},[a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",autogrow:"",label:"Conocimientos y habilidades",hint:"Escribe aqui tus actitudes y aptitudes que consideres que el reclutador deba saber :)"},model:{value:e.knowledge,callback:function(t){e.knowledge=t},expression:"knowledge"}}),a("q-input",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",autogrow:"",label:"Referencias",hint:"Referencias"},model:{value:e.references,callback:function(t){e.references=t},expression:"references"}})],1),a("div",{staticClass:"q-gutter-md row items-start"},[a("q-file",{staticStyle:{width:"300px"},attrs:{outlined:"","use-chips":"",label:"Foto de perfíl",accept:".jpg, .jpeg, .png","max-files":"1"},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),a("div",[a("img",{staticStyle:{width:"200px"},attrs:{src:"/uploads/"+e.imagen}})])],1),a("q-btn",{staticClass:"bg-yellow-14 text-grey-9",staticStyle:{"min-width":"300px"},attrs:{label:"Actualizar información",type:"submit"}})],1)],1)],1):e._e()},s=[],i=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("967e")),r=a.n(i),o=a("c47a"),l=a.n(o),c=(a("96cf"),a("fa84")),p=a.n(c);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={data:function(){return this.$store.state.user.id_aspirante||this.$router.push("/404"),{firstName:this.firstName,lastName1:this.lastName1,lastName2:this.lastName2,password:"",phone:this.phone,birth:this.birth,city:this.city,state:this.state,country:this.country,knowledge:this.knowledge,references:this.references,image:null,showPassword:!1,imagen:"0.png"}},methods:{onSubmit:function(){var e=this;return p()(r.a.mark((function t(){var a,n,s,i,o,l;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("apellido_paterno",e.lastName1.trim()),a.append("apellido_materno",e.lastName2.trim()||""),a.append("nombre",e.firstName.trim()),a.append("telefono",e.phone||""),a.append("fecha_naci",e.birth),a.append("ciudad",e.city.trim()||""),a.append("estado",e.state.trim()||""),a.append("pais",e.country.trim()||""),a.append("conocimientos",e.knowledge.trim()||""),a.append("referencias",e.references.trim()||""),e.image&&a.append("imagen",e.image),n=e.$store.state.user.id_aspirante,t.next=15,e.$axios.patch("/aspirantes/".concat(n),a);case 15:return s=t.sent,i=s.data,e.image&&(e.imagen=i.imagen),e.lastName1=i.apellido_paterno,e.lastName2=i.apellido_materno,e.firstName=i.nombre,e.phone=i.telefono,e.city=i.ciudad,e.state=i.estado,e.country=i.pais,e.knowledge=i.conocimientos,e.references=i.referencias,t.next=29,e.$axios.patch("/users/".concat(e.$store.state.user.id),d({},e.password&&{password:e.password}));case 29:o=t.sent,l=o.data,e.password="",e.$store.commit("setState",{user:l}),e.$q.notify({position:"bottom-right",group:!1,timeout:2500,message:"¡Cambios realizados!"});case 34:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return p()(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.state.user.id_aspirante){t.next=4;break}e.$router.push("/404"),t.next=20;break;case 4:return t.next=6,e.$axios.get("/aspirantes/".concat(e.$store.state.user.id_aspirante));case 6:a=t.sent,n=a.data,e.firstName=n.nombre,e.lastName1=n.apellido_paterno,e.lastName2=n.apellido_materno||"",e.phone=n.telefono||"",e.birth=n.fecha_naci,e.city=n.ciudad||"",e.state=n.estado||"",e.country=n.pais||"",e.knowledge=n.conocimientos||"",e.references=n.referencias||"",e.showPassword=!1,e.imagen=n.imagen||"0.png";case 20:case"end":return t.stop()}}),t)})))()}},f=m,h=a("2877"),b=a("eebe"),w=a.n(b),y=a("f09f"),g=a("a370"),x=a("0378"),v=a("27f9"),k=a("0016"),q=a("7cbe"),N=a("52ee"),S=a("7d53"),P=a("9c40"),_=Object(h["a"])(f,n,s,!1,null,null,null);t["default"]=_.exports;w()(_,"components",{QCard:y["a"],QCardSection:g["a"],QForm:x["a"],QInput:v["a"],QIcon:k["a"],QPopupProxy:q["a"],QDate:N["a"],QFile:S["a"],QBtn:P["a"]})}}]);