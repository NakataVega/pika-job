(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{fdf8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("h3",[e._v("Crear cuenta")]),a("q-form",{staticClass:"q-gutter-md",attrs:{autocomplete:"new-password"},on:{submit:e.onSubmit}},[a("q-input",{attrs:{outlined:"",label:"Nombre(s) *",hint:"Nombre o nombres","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su(s) nombre(s)"}]},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("q-input",{attrs:{outlined:"",label:"Apellido paterno *",hint:"Apellido paterno","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su apellido paterno"}]},model:{value:e.lastName1,callback:function(t){e.lastName1=t},expression:"lastName1"}}),a("q-input",{attrs:{outlined:"",label:"Apellido materno",hint:"Apellido materno"},model:{value:e.lastName2,callback:function(t){e.lastName2=t},expression:"lastName2"}}),a("q-input",{attrs:{outlined:"",label:"Correo electrónico *",hint:"Correo electrónico","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su correo electrónico"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("q-input",{attrs:{outlined:"",label:"Contraseña",type:e.showPassword?"text":"password",hint:"Contraseña",rules:[function(e){return e&&e.length>0||"Ingrese su contraseña"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showPassword?"visibility":"visibility_off"},on:{click:function(t){e.showPassword=!e.showPassword}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-btn",{attrs:{label:"Registrarme",type:"submit",color:"primary"}}),a("q-btn",{attrs:{label:"Ya tengo una cuenta",type:"button",color:"secondary",to:"../login"}})],1)],1)],1)},n=[],r=a("967e"),o=a.n(r),l=(a("96cf"),a("fa84")),i=a.n(l),u={data:function(){return{firstName:"",lastName1:"",lastName2:"",password:"",email:"",showPassword:!1}},methods:{onSubmit:function(){var e=this;return i()(o.a.mark((function t(){var a,s,n,r,l,i;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("/users",{nombre:e.firstName,apellido_paterno:e.lastName1,apellido_materno:e.lastName2,email:e.email,password:e.password});case 2:if(a=t.sent,s=a.data,s){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.$axios.post("/authentication",{strategy:"local",email:e.email,password:e.password});case 8:if(n=t.sent,r=n.data,!r){t.next=16;break}return l=r.accessToken,i=r.user,e.$axios.defaults.headers.common.Authorization="Bearer ".concat(l),t.next=15,e.$store.dispatch("login",{user:i,token:l,userId:i.id});case 15:e.$router.push("/");case 16:case"end":return t.stop()}}),t)})))()}}},c=u,p=a("2877"),m=a("eebe"),d=a.n(m),f=a("9989"),b=a("0378"),w=a("27f9"),h=a("0016"),g=a("9c40"),x=Object(p["a"])(c,s,n,!1,null,null,null);t["default"]=x.exports;d()(x,"components",{QPage:f["a"],QForm:b["a"],QInput:w["a"],QIcon:h["a"],QBtn:g["a"]})}}]);