(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"4d6a":function(e,t,a){e.exports=a.p+"img/pikajob-logo.245a16a4.png"},"56b4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$store.state.user&&(e.$store.state.user.id_aspirante||e.$store.state.user.id_organizacion)?e._e():s("q-card",{staticStyle:{"background-color":"rgba(255,255,255,0.2)"}},[s("q-card-section",[s("img",{staticStyle:{"max-height":"2oopx","max-width":"50%","margin-left":"auto","margin-right":"auto",display:"block"},attrs:{alt:"Pika-job logo",src:a("4d6a")}}),s("h4",{staticStyle:{"margin-top":"5px"}},[e._v("Crear cuenta")]),s("q-form",{staticClass:"q-gutter-md",attrs:{autocomplete:"new-password"},on:{submit:e.onSubmit}},[s("q-input",{attrs:{outlined:"",label:"Nombre(s) *",hint:"Nombre o nombres","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su(s) nombre(s)"}]},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),s("q-input",{attrs:{outlined:"",label:"Apellido paterno *",hint:"Apellido paterno","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su apellido paterno"}]},model:{value:e.lastName1,callback:function(t){e.lastName1=t},expression:"lastName1"}}),s("q-input",{attrs:{outlined:"",label:"Apellido materno",hint:"Apellido materno"},model:{value:e.lastName2,callback:function(t){e.lastName2=t},expression:"lastName2"}}),s("q-input",{attrs:{outlined:"",label:"Correo electrónico *",hint:"Correo electrónico","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su correo electrónico"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("q-input",{attrs:{outlined:"",label:"Contraseña",type:e.showPassword?"text":"password",hint:"Contraseña",rules:[function(e){return e&&e.length>0||"Ingrese su contraseña"}]},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showPassword?"visibility":"visibility_off"},on:{click:function(t){e.showPassword=!e.showPassword}}})]},proxy:!0}],null,!1,4198369114),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("div",{staticClass:"q-pa-md q-gutter-sm"},[s("q-btn",{staticClass:"bg-grey-9 text-yellow-14",attrs:{label:"Ya tengo cuenta",type:"button",to:"/login"}}),s("q-btn",{staticClass:"bg-yellow-14",attrs:{label:"Registrarme",type:"submit"}})],1)],1)],1)],1)},r=[],o=a("967e"),n=a.n(o),i=(a("96cf"),a("fa84")),l=a.n(i);a("28a5"),a("6762"),a("2fdb");function u(e){if(e.includes(" "))return!1;var t=e.split("@");return 2===t.length&&(0!==t[0].length&&0!==t[1].length)}var c={data:function(){return this.$store.state.user&&(this.$store.state.user.id_aspirante||this.$store.state.user.id_organizacion)&&this.$router.push("/"),{firstName:"",lastName1:"",lastName2:"",password:"",email:"",showPassword:!1}},methods:{onSubmit:function(){var e=this;return l()(n.a.mark((function t(){var a,s,r,o,i,l,c;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.email=e.email.trim(),!u(e.email)){t.next=22;break}return t.next=4,e.$axios.post("/users",{nombre:e.firstName,apellido_paterno:e.lastName1,apellido_materno:e.lastName2,email:e.email.trim(),password:e.password});case 4:if(a=t.sent,s=a.data,r=a.error,r&&r.response&&r.response.data&&e.$q.notify({type:"negative",position:"top-right",group:!1,timeout:2500,message:r.response.data.errors.email}),s){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,e.$axios.post("/authentication",{strategy:"local",email:e.email,password:e.password});case 12:if(o=t.sent,i=o.data,!i){t.next=20;break}return l=i.accessToken,c=i.user,e.$axios.defaults.headers.common.Authorization="Bearer ".concat(l),t.next=19,e.$store.dispatch("login",{user:c,token:l,userId:c.id});case 19:e.$router.push("/");case 20:t.next=23;break;case 22:e.$q.notify({type:"negative",position:"top-right",group:!1,timeout:2500,message:"Ingrese una dirección de correo válida"});case 23:case"end":return t.stop()}}),t)})))()}}},p=c,m=a("2877"),d=a("eebe"),b=a.n(d),f=a("f09f"),g=a("a370"),h=a("0378"),w=a("27f9"),x=a("0016"),y=a("9c40"),k=Object(m["a"])(p,s,r,!1,null,null,null);t["default"]=k.exports;b()(k,"components",{QCard:f["a"],QCardSection:g["a"],QForm:h["a"],QInput:w["a"],QIcon:x["a"],QBtn:y["a"]})}}]);